<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>VR Road for Kids</title>
  <meta name="description" content="Cute VR Road for Kids - A-Frame">
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
</head>
<body>
  <a-scene>
    <!-- Ground (Road) -->
    <a-plane position="0 0 0" rotation="-90 0 0" width="300" height="300" color="#8B8B8B"></a-plane>

    <!-- 車 -->
    <a-entity 
      id="car"
      position="2.978 0 -20.443"  
      scale="1 1 1"         
      rotation="0 0 0"    
      gltf-model="car.glb">
    </a-entity>
    <!-- 車 -->
    <a-entity 
      id="car"
      position="2.978 0 -20.443"  
      scale="1 1 1"         
      rotation="0 180 0"    
      gltf-model="car.glb">
    </a-entity>

    <!-- 家 -->
    <a-entity 
      position="-15.461 2.878 -30"  
      scale="0.4 0.4 0.4" 
      gltf-model="orangehouse.glb">
    </a-entity>
    
    <a-entity 
      position="-15.358 3 -17"  
      scale="0.4 0.4 0.4" 
      gltf-model="yellowhouse.glb">
    </a-entity>
    <a-entity 
      position="-10.983 3 -10"  
      scale="0.4 0.4 0.4" 
      rotation="0 90 0"
      gltf-model="purplehouse.glb">
    </a-entity>
    <a-entity 
      position="-10.983 3 13"  
      scale="0.4 0.4 0.4" 
      rotation="0 90 0"
      gltf-model="bluehouse.glb">
    </a-entity>

    <!-- 空 -->
    <a-sky color="#87CEEB"></a-sky>

    <!-- カメラとコントロール（歩行者視点） -->
    <a-entity camera position="5 0.5 0" look-controls>
      <a-entity wasd-controls></a-entity>
    </a-entity>
  </a-scene>

  <script>
  // 車を前進させる関数
  function animate() {
    const car = document.getElementById('car');
    const position = car.getAttribute('position');

    // 車を前進させる（Z軸に沿って移動）
    position.z += 0.5; // Z軸の値を減少させることで前進させる

    // 新しい位置を設定
    car.setAttribute('position', position);

    // 一定距離まで進んだら車を見えなくする
    if (position.z < 30) { // ここで30が見えなくなる距離
      car.setAttribute('visible', false);
    }

    // アニメーションループを作成
    requestAnimationFrame(animate);
  }

  // アニメーションを開始
  animate();
</script>
</body>
</html>
